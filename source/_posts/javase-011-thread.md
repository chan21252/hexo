---
title: JAVASE学习笔记—011 多线程
date: 2019-06-02 15:09:04
tags:
- java
- javase
category:
- java
---

## 一、进程和线程

### 进程

进程是程序运行的最小单位，包含**静态**的资源和**动态**的计算。
进程已经是一种静态的概念，可以理解成为一个或多个线程提供共享资源的上下文容器，更多强调的是系统的资源，包括memory及设备的统称，已经不再强调动态特性，而这些动态的特性已经被转移到线程身上。

1. 进程是一个资源的容器，为进程里的所有线程提供共享资源，是对程序的一种静态描述。
2. 线程是计算机最小的调度和运行单位，是对程序的一种动态描述。

> 进程和线程就是这样的背景出来的，两个名词不过是对应的CPU时间段的描述，名词就是这样的功能。
> 进程就是包换上下文切换的程序执行时间总和 = CPU加载上下文+CPU执行+CPU保存上下文
> 线程是什么呢？
> 进程的颗粒度太大，每次都要有上下的调入，保存，调出。如果我们把进程比喻为一个运行在电脑上的软件，那么一个软件的执行不可能是一条逻辑执行的，必定有多个分支和多个程序段，就好比要实现程序A，实际分成 a，b，c等多个块组合而成。那么这里具体的执行就可能变成：
> 程序A得到CPU =》CPU加载上下文，开始执行程序A的a小段，然后执行A的b小段，然后再执行A的c小段，最后CPU保存A的上下文。
> 这里a，b，c的执行是共享了A的上下文，CPU在执行的时候没有进行上下文切换的。这里的a，b，c就是线程，也就是说线程是共享了进程的上下文环境，的更为细小的CPU时间段。
> 总结：进程和线程都是一个时间段的描述，是CPU工作时间段的描述，不过是颗粒大小不
>
> 作者：zhonyong
> 链接：https://www.zhihu.com/question/25532384/answer/81152571
> 来源：知乎

<!-- more -->

## 二、Thread类

Thread类是线程类型，该类或其子类的对象都是一个线程对象。
Thread对象执行start方法会启动一个线程。
Thread的run方法是线程启动后自动执行的方法。

### 构造方法
1. 默认无参构造器
2. Runable构造器
3. Runable，String构造器

### 线程的生命周期

1. 新建，new
2. 运行，start->run
3. 阻塞，block
4. 结束

### Thread常用方法

1. 启动线程
2. 执行线程
3. 休眠
4. 中断当前状态
    1. 获取线程是否中断
5. 线程联合，线程独占CPU资源
6. 暂停线程
7. 线程名称
8. 线程优先级

## 三、Runnable接口

Runnale接口是线程接口，此接口只提供一个的run方法。
Runnable接口的作用是让多个Thread对象共享此接口的run方法，达到多个线程执行相同任务的效果。

## 四、线程之间的通信

当多个线程同时访问一个变量，并且可能修改变量的值，必须对这种情况进行处理，否则会出现混乱，即线程同步问题。
处理线程同步问题，一个资源被一个线程访问时，该资源锁定，其他线程无法访问。
Java中使用在**synchronized**关键字来修饰需要处理线程同步问题的变量和方法。

处理线程同步问题的方法
1. 同步代码块
2. 对象同步锁
3. 方法同步锁

## 四、个人理解

java中Thread具有Runnable对象的构造器，意味着可以使用多个Thread（线程）执行同一个Runnbale（任务）。这里的Runnable很像进程的概念。

java可以创建多个进程和线程，进程对应不同的静态数据和动态计算，进程的动态计算可以交由多个线程来处理。多个线程可以共享进程的资源，那么就要解决线程同步的问题。